\section{Problem Description}\label{sec:prob_descr}

\begin{table}[tbp]
	\centering
	\caption{Parameters and values.}
	\begin{tabular}{llll}
		\hline
		Symbol & Parameter & Value & Unit \\
		\hline
		$l_a$ & Distance from elevation axis to helicopter body & $0.63$ & \meter \\
		$l_h$ & Distance from pitch axis to motor & $0.18$ & \meter \\
		$K_f$ & Force constant motor & $0.25$ & \newton\per\volt \\
		$J_e$ & Moment of inertia for elevation & $0.83$ & \kilogram\usk\square\meter \\
		$J_t$ & Moment of inertia for travel & $0.83$ & \kilogram\usk\square\meter \\
		$J_p$ & Moment of inertia for pitch & $0.034$ & \kilogram\usk\square\meter \\
		$m_h$ & Mass of helicopter & $1.05$ & \kilogram \\
		$m_w$ & Balance weight & $1.87$ & \kilogram \\
		$m_g$ & Effective mass of the helicopter & $0.05$ & \kilogram \\
		$K_p$ & Force to lift the helicopter from the ground & $0.49$ & \newton \\
		\hline
	\end{tabular}
	\label{tab:parameters}
\end{table}

\begin{table}[tbp]
	\centering
	\caption{Variables}
	\begin{tabular}{ll}
		\hline
		Symbol & variable \\
		\hline
		$p$ & Pitch \\
		$p_c$ & Pitch setpoint \\
		$\lambda$ & Travel \\
		$r$ & Travel rate \\
		$r_c$ & Travel rate setpoint \\
		$e$ & Elevation \\
		$e_c$ & Elevation setpoint \\
		$V_f$ & Voltage input, front motor \\
		$V_b$ & Voltage input, back motor \\
		$V_d$ & Voltage difference, $V_f - V_b$ \\
		$V_s$ & Voltage sum, $V_f + V_b$ \\
		$K_{pp}, K_{pd}, K_{ep}, K_{ei}, K_{ed}$ & Controller gains \\
		$T_g$ & Torque exerted by gravity \\
		\hline
	\end{tabular}
	\label{tab:variables}
\end{table}
Discussing the lab setup: Dual rotor movable arm, differential thrust, etc.

\paragraph{}
Discussing the model: From first principles analysis we can derive simple differential equations to describe the system dynamics:

\begin{subequations}
	\label{eq:dynamics}
	\begin{align}
		\ddot{p} &= K_1 V_d\\
		\ddot{e} &= K_3 V_s - \frac{T_g}{J_e}\\
		\dot{r} &= -K_2 p
	\end{align}
\end{subequations}
\begin{equation*}
K_1 = \frac{K_f l_h}{J_p}, \quad K_3 = \frac{K_f l_a}{J_e}, \quad K_2 = \frac{K_p l_a}{J_t}
\end{equation*}

Note simplifications and limitations:
\begin{itemize}
	\item{Travel rate proportional to pitch, otherwize decoupled}
	\item{Pitch has no counteracting 'spring' force}
\end{itemize}

\paragraph{}

To stabilize the plant, adding the pitch PD controller
\begin{equation*}
	V_d = K_{pp} (p_c - p) - K_{pd} \dot{p}, \quad K_{pp}, K_{pd} > 0
\end{equation*}

and the elevation PID controller
\begin{equation*}
	V_s = K_{ei} \int (e_c - e) \ dt +  K_{ep} (e_c - e) - K_{ed} \dot{e}, \quad K_{ei}, K_{ep}, K_{ed} > 0
\end{equation*}

yields the model equations
\begin{subequations}
\label{eq:model}
\begin{align}
	\ddot{e} + K_{3} K_{ed} \dot{e} + K_{3} K_{ep} e &= K_{3} K_{ep} e_{c} \label{eq:model_se_al_elev} \\
	\ddot{p} + K_{1} K_{pd} \dot{p} + K_{1} K_{pp} p &= K_{1} K_{pp} p_{c} \label{eq:model_se_al_pitch} \\
	\dot{r} &= -K_{2} p \label{eq:model_se_al_r} 
\end{align}
\end{subequations}
where it is assumed the elevation integral term counteracts the constant disturbance $-\frac{T_g}{J_e}$ and cancel out.

\paragraph{}
However, in order to achieve a more accurate model we can utilize statistical procedures to best identify the parameters of the first and second order systems; Enter autoAwesome least squares via step response. Include only transfer functions, and include state space derivation to problem 2. Maybe compare the parameters to that of \eqref{eq:model}


